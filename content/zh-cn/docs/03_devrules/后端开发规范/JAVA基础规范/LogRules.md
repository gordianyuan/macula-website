---
title: "日志规约"
linkTitle: "日志规约"
weight: 3
---

## 概述

合理的设置日志的内容格式、打印级别，有助于监控程序的运行状态和异常排查。

## 异常类型

1.DEBUG

非常具体的信息，只能用于开发调试使用。部署到生产环境后，这个级别的信息只能保持很短的时间。这些信息只能临时存在，并将最终被关闭。要区分DEBUG和TRACE会比较困难，对一个在开发及测试完成后将被删除的LOG输出，可能会比较适合定义为TRACE级别。

2.INFO

重要的业务处理已经结束。在实际环境中，系统管理员或者高级用户要能理解INFO输出的信息并能很快的了解应用正在做什么。比如，一个和处理机票预订的系统，对每一张票要有且只有一条INFO信息描述 “[Who] booked ticket from [Where] to [Where]”。另外一种对INFO信息的定义是：记录显著改变应用状态的每一个action，比如：数据库更新、外部系统请求。

3.WARN

发生这个级别问题时，处理过程可以继续，但必须对这个问题给予额外关注。这个问题又可以细分成两种情况：

+ 第一种是存在严重的问题但有应急措施（比如数据库不可用，使用Cache）

+ 第二种是潜在问题及建议（ATTENTION）

比如生产环境的应用运行在Development模式下、管理控制台没有密码保护等。系统可以允许这种错误的存在，但必须及时做跟踪检查用户参数错误。可以使用warn日志级别来记录用户输入参数错误的情况，避免用户投诉时，无所适从。

4.ERROR

系统中发生了非常严重的问题，必须马上有人进行处理。没有系统可以忍受这个级别的问题的存在。比如：NPEs（空指针异常），数据库不可用，关键业务流程中断等。

## 日志格式

1.将附件中的logback-spring.xml放入src/main/resources/中

2.系统抛出的异常不会附带traceid，如果需要输出traceid应该使用如下方式输出异常信息logger.error(“internal server error”, e)

## 参考文章

 [汉得开放平台文档](https://open.hand-china.com/document-center/doc/product/10067/10239?doc_id=34378&doc_code=6208)
